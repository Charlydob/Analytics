:root{
  --bg:#0b1220; --card:#111a2b; --cardHi:#142138; --text:#e8edf7; --muted:#9db0d1;
  --accent:#6fa3ff; --accentHi:#8db7ff; --ok:#39d98a; --warn:#ffcc66; --err:#ff6b6b;
  --radius:16px; --shadow:0 8px 24px rgba(0,0,0,.35); --hair:1px solid rgba(255,255,255,.06);
  --tap: rgba(255,255,255,.08);
}
*{box-sizing:border-box} html,body{height:100%; background:var(--bg); color:var(--text); font-family:system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial;}
#app{width:390px; min-height:100vh; margin:0 auto; position:relative}
.topbar{position:sticky; top:0; z-index:5; backdrop-filter: blur(8px); background:linear-gradient(180deg, rgba(11,18,32,.9), rgba(11,18,32,.6)); border-bottom:var(--hair); padding:10px 12px}
.brand{font-weight:700; letter-spacing:.3px; margin-bottom:6px}
.tabs{display:flex; gap:8px}
.tabs a{flex:1; text-align:center; padding:8px 6px; border-radius:12px; text-decoration:none; color:var(--muted); background:transparent}
.tabs a.active{color:var(--text); background:linear-gradient(180deg, var(--cardHi), var(--card)); box-shadow: inset 0 0 0 1px rgba(255,255,255,.06)}
main#view{padding:12px; display:grid; gap:12px}
.card{background:linear-gradient(180deg, var(--cardHi), var(--card)); border-radius:var(--radius); box-shadow:var(--shadow); padding:14px; border:var(--hair)}
.list{display:flex; flex-direction:column; gap:8px}
.item{display:flex; gap:10px; align-items:center; padding:10px; border-radius:12px; background:rgba(255,255,255,.02); border:var(--hair)}
.item:active{background:var(--tap)}
.thumb{width:72px; height:40px; border-radius:10px; background:#1b2741; object-fit:cover}
.hint{color:var(--muted); font-size:.9rem}
.kpi{display:flex; justify-content:space-between; margin-top:4px}
.kpi strong{font-size:1.1rem}
.grid2{display:grid; grid-template-columns:1fr 1fr; gap:8px}
.btn{appearance:none; border:0; border-radius:12px; padding:10px 12px; color:var(--text); background:linear-gradient(180deg,#233251,#1a2744); box-shadow:var(--shadow)}
.btn:active{transform:translateY(1px)}
.btn.primary{background:linear-gradient(180deg,#5f8ff9,#4f7fe8)}
.input, select{width:100%; background:#0f182c; border:var(--hair); border-radius:12px; padding:10px; color:var(--text)}
.row{display:flex; gap:8px}
.fabbar{position:fixed; bottom:16px; left:50%; transform:translateX(-50%); width:390px; display:flex; justify-content:flex-end; padding:0 16px; pointer-events:none}
.fabbar button{pointer-events:auto; width:56px; height:56px; border-radius:16px; font-size:28px; border:0; background:linear-gradient(180deg,#6fa3ff,#4f7fe8); color:#03102a; box-shadow:0 10px 24px rgba(79,126,232,.45)}
.toast{position:fixed; bottom:88px; left:50%; transform:translateX(-50%); background:#101b30; border:var(--hair); padding:10px 12px; border-radius:12px; display:none}
hr{border:none; border-top:var(--hair); margin:8px 0}
.badge{font-size:.75rem; color:var(--accentHi)}
.small{font-size:.9rem}
.center{display:flex; align-items:center; justify-content:center; min-height:40vh}
.subtabs{display:flex; gap:6px; margin:10px 0 6px}
.subtab{flex:1; border:var(--hair); background:#0f182c; color:var(--muted); padding:8px; border-radius:12px}
.subtab.active{color:var(--text); background:linear-gradient(180deg, var(--cardHi), var(--card))}
textarea.input{resize:vertical}
.subtabs{display:flex; gap:6px; margin:10px 0 6px}
.subtab{flex:1; border:var(--hair); background:#0f182c; color:var(--muted); padding:8px; border-radius:12px}
.subtab.active{color:var(--text); background:linear-gradient(180deg, var(--cardHi), var(--card))}
textarea.input{resize:vertical}
/* Modal */
.modal{position:fixed;inset:0;display:flex;align-items:flex-end;justify-content:center;background:rgba(0,0,0,.4);z-index:50}
.modal .sheet{width:390px;max-height:92vh;overflow:auto;background:linear-gradient(180deg,var(--cardHi),var(--card));border-radius:16px 16px 0 0;box-shadow:var(--shadow);padding:12px;border:var(--hair)}
.modal .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.modal h3{margin:0;font-size:1.05rem}
.modal .actions{display:flex;gap:8px;margin-top:10px}
.modal .section{margin:8px 0;border-top:var(--hair);padding-top:8px}
.modal .row-tight{display:flex;gap:8px;align-items:center}
.modal .rangeRow{display:flex;gap:8px;align-items:center;margin:6px 0}
.modal .rangeRow label{width:42%}
.modal .rangeRow input[type="number"]{width:64px}
.hidden{display:none !important}
/* Métricas tabla compacta */
/* --- Tabla de métricas móvil: scroll solo en contenedor --- */
.mtable-wrap{
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
  width:100%;
  max-width:100%;
}
.mtable{
  /* ancho fijo moderado => fuerza scroll sin ensanchar la página */
  width: ;               /* ajusta a 600–680 si quieres */
  border-collapse:separate;
  border-spacing:0 6px;
  table-layout:auto;
}
.mtable thead th{
  padding:6px 8px;
  white-space:nowrap;
  text-align:center;
  font-weight:600;
  opacity:.9;
}
.mtable th.left,
.mtable tbody th.kpi{
  text-align:left;
  padding:6px 8px;
  white-space:nowrap;
}
.mtable td{ padding:0 6px; vertical-align:middle; }
.mtable .mcell{
  width:100%;
  padding:8px 10px;
  height:34px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.05);
  color:inherit;
  text-align:right;
  font-variant-numeric: tabular-nums;
  white-space:nowrap;          /* evita corte de cifras */
}
.mtable .mcell::-webkit-outer-spin-button,
.mtable .mcell::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
